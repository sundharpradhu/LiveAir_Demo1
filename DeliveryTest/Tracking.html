<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LiveAir - Delivery Tracking</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg-gray-50 flex min-h-screen">
  <!-- Sidebar -->
  <aside class="w-64 bg-white shadow-lg flex flex-col">
    <div class="p-4 gradient-bg text-white font-bold text-xl">LiveAir</div>
    <nav class="flex-1 p-4 space-y-1">
      <a href="dashboard.html" class="nav-link"><i data-lucide="home" class="w-5 h-5"></i><span>Dashboard</span></a>
      <a href="Orders.html" class="nav-link"><i data-lucide="package" class="w-5 h-5"></i><span>Orders</span></a>
      <a href="Payments.html" class="nav-link"><i data-lucide="credit-card" class="w-5 h-5"></i><span>Payments</span></a>
      <a href="Tracking.html" class="nav-link nav-active"><i data-lucide="map-pin" class="w-5 h-5"></i><span>Tracking</span></a>
      <a href="Service.html" class="nav-link"><i data-lucide="wrench" class="w-5 h-5"></i><span>Service & Repair</span></a>
       </nav>
    <div class="p-4 text-sm text-gray-500">¬© 2025 LiveAir</div>
  </aside>

  <main class="flex-1 flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow p-4 flex justify-between items-center">
      <div>
        <h1 class="font-bold text-lg">Live Tracking</h1>
        <p class="text-sm text-gray-600">Real-time delivery tracking and route management</p>
      </div>
      <div class="flex items-center gap-3">
        <div class="flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">
          <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
          <span>Online</span>
        </div>
        <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors" onclick="shareLocation()">
          <i data-lucide="map-pin" class="w-4 h-4 mr-2 inline"></i>
          Share Location
        </button>
        <button title="Language" class="bg-gray-100 px-3 py-1 rounded">üåê EN</button>
        <button title="Notifications" class="bg-gray-100 p-2 rounded" onclick="showNotifications()">
          <i data-lucide="bell" class="w-5 h-5"></i>
        </button>
        <div title="Profile" class="bg-blue-600 w-8 h-8 rounded-full text-white grid place-items-center cursor-pointer" onclick="showProfile()">JD</div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="flex-1 p-6 overflow-auto">
      <!-- View Toggle -->
      <div class="flex space-x-2 mb-6">
        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg font-medium view-btn" onclick="switchView('map')">
          <i data-lucide="map" class="w-4 h-4 mr-2 inline"></i>
          Map View
        </button>
        <button class="px-4 py-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 rounded-lg view-btn" onclick="switchView('list')">
          <i data-lucide="list" class="w-4 h-4 mr-2 inline"></i>
          List View
        </button>
        <button class="px-4 py-2 bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 rounded-lg" onclick="optimizeRoute()">
          <i data-lucide="route" class="w-4 h-4 mr-2 inline"></i>
          Optimize Route
        </button>
      </div>

      <!-- Map View -->
      <div id="mapView" class="space-y-6">
        <!-- Current Location & Next Delivery -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Current Location -->
          <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-lg font-semibold text-gray-900">Current Location</h2>
              <div class="flex items-center space-x-2 text-green-600">
                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                <span class="text-sm font-medium">Live</span>
              </div>
            </div>
            <div class="space-y-3">
              <div class="flex items-center space-x-3">
                <i data-lucide="map-pin" class="w-5 h-5 text-blue-600"></i>
                <div>
                  <p class="font-medium text-gray-900">Sector 15, Noida</p>
                  <p class="text-sm text-gray-600">Near Metro Station, Main Road</p>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <i data-lucide="clock" class="w-5 h-5 text-gray-600"></i>
                <div>
                  <p class="text-sm text-gray-600">Last updated: <span class="font-medium">2 minutes ago</span></p>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <i data-lucide="navigation" class="w-5 h-5 text-gray-600"></i>
                <div>
                  <p class="text-sm text-gray-600">Speed: <span class="font-medium">35 km/h</span></p>
                </div>
              </div>
            </div>
            <button onclick="updateLocation()" class="mt-4 w-full bg-blue-100 text-blue-700 py-2 rounded-lg hover:bg-blue-200 transition-colors">
              <i data-lucide="refresh-cw" class="w-4 h-4 mr-2 inline"></i>
              Update Location
            </button>
          </div>

          <!-- Next Delivery -->
          <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-lg font-semibold text-gray-900">Next Delivery</h2>
              <span class="px-3 py-1 bg-orange-100 text-orange-800 text-sm font-medium rounded-full">HIGH PRIORITY</span>
            </div>
            <div class="space-y-3">
              <div class="flex items-center space-x-3">
                <i data-lucide="package" class="w-5 h-5 text-orange-600"></i>
                <div>
                  <p class="font-medium text-gray-900">ORD-2024-001</p>
                  <p class="text-sm text-gray-600">Oxygen Cylinder for Ravi Kumar</p>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <i data-lucide="map-pin" class="w-5 h-5 text-gray-600"></i>
                <div>
                  <p class="font-medium text-gray-900">B-123, Sector 15, Noida</p>
                  <p class="text-sm text-gray-600">2.3 km away</p>
                </div>
              </div>
              <div class="flex items-center space-x-3">
                <i data-lucide="clock" class="w-5 h-5 text-gray-600"></i>
                <div>
                  <p class="text-sm text-gray-600">ETA: <span class="font-medium text-orange-600">15 minutes</span></p>
                </div>
              </div>
            </div>
            <button onclick="startNavigation('ORD-2024-001')" class="mt-4 w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700 transition-colors">
              <i data-lucide="navigation" class="w-4 h-4 mr-2 inline"></i>
              Start Navigation
            </button>
          </div>
        </div>

        <!-- Interactive Map Placeholder -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
          <div class="p-4 border-b border-gray-100 flex items-center justify-between">
            <h2 class="text-lg font-semibold text-gray-900">Live Route Map</h2>
            <div class="flex space-x-2">
              <button onclick="centerMap()" class="px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200">
                <i data-lucide="crosshair" class="w-4 h-4 mr-1 inline"></i>
                Center
              </button>
              <button onclick="toggleTraffic()" class="px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200">
                <i data-lucide="car" class="w-4 h-4 mr-1 inline"></i>
                Traffic
              </button>
            </div>
          </div>
          <div class="h-96 bg-gradient-to-br from-blue-100 to-green-100 flex items-center justify-center relative">
            <!-- Mock Map Interface -->
            <div class="absolute inset-4 bg-white/20 rounded-xl backdrop-blur-sm">
              <div class="h-full flex items-center justify-center">
                <div class="text-center">
                  <i data-lucide="map" class="w-16 h-16 text-blue-600 mx-auto mb-4"></i>
                  <p class="text-lg font-semibold text-gray-800">Interactive Map</p>
                  <p class="text-sm text-gray-600">Your current location and delivery routes</p>
                </div>
              </div>
            </div>
            
            <!-- Mock Location Markers -->
            <div class="absolute top-8 left-8 w-4 h-4 bg-blue-600 rounded-full animate-pulse shadow-lg"></div>
            <div class="absolute bottom-16 right-12 w-4 h-4 bg-red-500 rounded-full shadow-lg"></div>
            <div class="absolute top-20 right-20 w-4 h-4 bg-green-500 rounded-full shadow-lg"></div>
            <div class="absolute bottom-8 left-16 w-4 h-4 bg-yellow-500 rounded-full shadow-lg"></div>
            
            <!-- Route Lines -->
            <svg class="absolute inset-0 w-full h-full">
              <path d="M 50 50 Q 200 100 300 200" stroke="#3b82f6" stroke-width="3" fill="none" stroke-dasharray="10,5" opacity="0.7"/>
              <path d="M 100 300 Q 250 200 400 150" stroke="#ef4444" stroke-width="3" fill="none" stroke-dasharray="10,5" opacity="0.7"/>
            </svg>
          </div>
          <div class="p-4 bg-gray-50 border-t border-gray-200">
            <div class="flex items-center justify-between text-sm">
              <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                  <div class="w-3 h-3 bg-blue-600 rounded-full"></div>
                  <span>Current Location</span>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                  <span>Next Delivery</span>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                  <span>Upcoming</span>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                  <span>Completed</span>
                </div>
              </div>
              <span class="text-gray-600">Total Route: 12.5 km</span>
            </div>
          </div>
        </div>
      </div>

      <!-- List View (Hidden by default) -->
      <div id="listView" class="space-y-4 hidden">
        <!-- Upcoming Deliveries -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Upcoming Deliveries</h2>
          <div class="space-y-4">
            <!-- Delivery Item 1 -->
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50">
              <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                  <span class="text-sm font-bold text-orange-600">1</span>
                </div>
                <div>
                  <p class="font-semibold text-gray-900">ORD-2024-001 - Ravi Kumar</p>
                  <p class="text-sm text-gray-600">B-123, Sector 15, Noida</p>
                  <div class="flex items-center space-x-4 mt-1 text-xs text-gray-500">
                    <span class="flex items-center"><i data-lucide="navigation" class="w-3 h-3 mr-1"></i>2.3 km</span>
                    <span class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i>15 mins</span>
                    <span class="flex items-center"><i data-lucide="dollar-sign" class="w-3 h-3 mr-1"></i>COD $120</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <button onclick="callCustomer('+91-9876543210')" class="p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200">
                  <i data-lucide="phone" class="w-4 h-4"></i>
                </button>
                <button onclick="startNavigation('ORD-2024-001')" class="px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                  Navigate
                </button>
              </div>
            </div>

            <!-- Delivery Item 2 -->
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50">
              <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                  <span class="text-sm font-bold text-blue-600">2</span>
                </div>
                <div>
                  <p class="font-semibold text-gray-900">ORD-2024-002 - Metro Hospital</p>
                  <p class="text-sm text-gray-600">Sector 12, Delhi</p>
                  <div class="flex items-center space-x-4 mt-1 text-xs text-gray-500">
                    <span class="flex items-center"><i data-lucide="navigation" class="w-3 h-3 mr-1"></i>5.7 km</span>
                    <span class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i>25 mins</span>
                    <span class="flex items-center"><i data-lucide="check" class="w-3 h-3 mr-1"></i>Paid Online</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <button onclick="callCustomer('+91-9876543211')" class="p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200">
                  <i data-lucide="phone" class="w-4 h-4"></i>
                </button>
                <button onclick="startNavigation('ORD-2024-002')" class="px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm">
                  Navigate
                </button>
              </div>
            </div>

            <!-- Delivery Item 3 -->
            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50">
              <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                  <span class="text-sm font-bold text-purple-600">3</span>
                </div>
                <div>
                  <p class="font-semibold text-gray-900">ORD-2024-004 - City Hospital</p>
                  <p class="text-sm text-gray-600">Central Delhi</p>
                  <div class="flex items-center space-x-4 mt-1 text-xs text-gray-500">
                    <span class="flex items-center"><i data-lucide="navigation" class="w-3 h-3 mr-1"></i>8.2 km</span>
                    <span class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i>35 mins</span>
                    <span class="flex items-center"><i data-lucide="dollar-sign" class="w-3 h-3 mr-1"></i>COD $800</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <button onclick="callCustomer('+91-9876543214')" class="p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200">
                  <i data-lucide="phone" class="w-4 h-4"></i>
                </button>
                <button onclick="startNavigation('ORD-2024-004')" class="px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm">
                  Navigate
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Completed Deliveries -->
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Completed Today</h2>
          <div class="space-y-4">
            <div class="flex items-center justify-between p-4 border border-green-200 rounded-xl bg-green-50">
              <div class="flex items-center space-x-4">
                <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                  <i data-lucide="check" class="w-5 h-5 text-white"></i>
                </div>
                <div>
                  <p class="font-semibold text-gray-900">ORD-2024-003 - Priya Sharma</p>
                  <p class="text-sm text-gray-600">A-456, Gurgaon</p>
                  <div class="flex items-center space-x-4 mt-1 text-xs text-gray-500">
                    <span class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i>Delivered at 2:30 PM</span>
                    <span class="flex items-center"><i data-lucide="check-circle" class="w-3 h-3 mr-1"></i>Payment Collected</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <button onclick="viewDeliveryProof('ORD-2024-003')" class="px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm">
                  <i data-lucide="image" class="w-4 h-4 mr-1 inline"></i>
                  Proof
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ETA Tracker -->
      <div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-xl font-bold mb-2">Next Delivery ETA</h3>
            <div class="flex items-center space-x-4">
              <div class="flex items-center space-x-2">
                <i data-lucide="clock" class="w-5 h-5"></i>
                <span class="text-2xl font-bold">15 mins</span>
              </div>
              <div class="flex items-center space-x-2">
                <i data-lucide="navigation" class="w-5 h-5"></i>
                <span class="text-lg">2.3 km away</span>
              </div>
            </div>
            <p class="text-blue-100 mt-2">B-123, Sector 15, Noida ‚Ä¢ Ravi Kumar</p>
          </div>
          <div class="text-right">
            <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center">
              <i data-lucide="map-pin" class="w-10 h-10"></i>
            </div>
          </div>
        </div>
        <div class="mt-4 flex space-x-3">
          <button onclick="callCustomer('+91-9876543210')" class="flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg transition-colors">
            <i data-lucide="phone" class="w-4 h-4 mr-2 inline"></i>
            Call Customer
          </button>
          <button onclick="startNavigation('ORD-2024-001')" class="flex-1 bg-white text-blue-600 hover:bg-gray-100 py-2 rounded-lg font-medium transition-colors">
            <i data-lucide="navigation" class="w-4 h-4 mr-2 inline"></i>
            Navigate Now
          </button>
        </div>
      </div>
    </div>
  </main>

  <script>
    lucide.createIcons();

    function switchView(view) {
      const mapView = document.getElementById('mapView');
      const listView = document.getElementById('listView');
      const buttons = document.querySelectorAll('.view-btn');
      
      // Reset button styles
      buttons.forEach(btn => {
        btn.classList.remove('bg-blue-600', 'text-white');
        btn.classList.add('bg-white', 'text-gray-700', 'border', 'border-gray-300');
      });
      
      if (view === 'map') {
        mapView.classList.remove('hidden');
        listView.classList.add('hidden');
        buttons[0].classList.remove('bg-white', 'text-gray-700', 'border', 'border-gray-300');
        buttons[0].classList.add('bg-blue-600', 'text-white');
      } else {
        mapView.classList.add('hidden');
        listView.classList.remove('hidden');
        buttons[1].classList.remove('bg-white', 'text-gray-700', 'border', 'border-gray-300');
        buttons[1].classList.add('bg-blue-600', 'text-white');
      }
    }

    function updateLocation() {
      // Simulate location update
      const locations = [
        'Sector 15, Noida',
        'Sector 16, Noida', 
        'Main Road, Noida',
        'Metro Station Area'
      ];
      const randomLocation = locations[Math.floor(Math.random() * locations.length)];
      
      // Update location display with animation
      const locationElement = document.querySelector('[data-lucide="map-pin"]').nextElementSibling;
      locationElement.style.opacity = '0.5';
      
      setTimeout(() => {
        locationElement.children[0].textContent = randomLocation;
        locationElement.style.opacity = '1';
        alert(`Location updated!\n\nNew location: ${randomLocation}\nAccuracy: High\nSpeed: 35 km/h\nTimestamp: ${new Date().toLocaleTimeString()}`);
      }, 1000);
    }

    function shareLocation() {
      if (confirm('Share live location with customers?\n\nThis will send your real-time location to customers expecting deliveries.')) {
        alert('Location sharing enabled!\n\n‚Ä¢ Customers will receive SMS with tracking link\n‚Ä¢ Location updates every 2 minutes\n‚Ä¢ Battery optimization applied\n‚Ä¢ Privacy: Only delivery-related customers can track');
      }
    }

    function startNavigation(orderId) {
      const orderDetails = {
        'ORD-2024-001': { customer: 'Ravi Kumar', address: 'B-123, Sector 15, Noida', distance: '2.3 km' },
        'ORD-2024-002': { customer: 'Metro Hospital', address: 'Sector 12, Delhi', distance: '5.7 km' },
        'ORD-2024-004': { customer: 'City Hospital', address: 'Central Delhi', distance: '8.2 km' }
      };
      
      const order = orderDetails[orderId];
      if (order) {
        alert(`Starting Navigation\n\nDestination: ${order.address}\nCustomer: ${order.customer}\nDistance: ${order.distance}\n\nThis would open your preferred navigation app with turn-by-turn directions.`);
      }
    }

    function optimizeRoute() {
      if (confirm('Optimize delivery route?\n\nThis will reorder your deliveries for maximum efficiency considering traffic, distance, and delivery time windows.')) {
        // Simulate route optimization
        setTimeout(() => {
          alert('Route Optimized!\n\n‚úÖ New optimal order:\n1. ORD-2024-001 (2.3 km)\n2. ORD-2024-002 (5.7 km)\n3. ORD-2024-004 (8.2 km)\n\nüìä Improvements:\n‚Ä¢ Total distance: -15% (2.1 km saved)\n‚Ä¢ Estimated time: -23 minutes\n‚Ä¢ Fuel savings: $12\n‚Ä¢ CO2 reduction: 1.2 kg');
        }, 2000);
      }
    }

    function callCustomer(phoneNumber) {
      if (confirm(`Call customer at ${phoneNumber}?\n\nThis will initiate a call to inform them about delivery status.`)) {
        alert(`Calling ${phoneNumber}...\n\nCall initiated through your device's phone app.\n\nSuggested message:\n"Hello, this is John from LiveAir. I'm on my way to deliver your order. I'll be there in approximately 15 minutes."`);
      }
    }

    function centerMap() {
      alert('Map centered on your current location\n\nCoordinates: 28.5355, 77.3910\nAccuracy: ¬±5 meters\nLast updated: Just now');
    }

    function toggleTraffic() {
      alert('Traffic layer toggled\n\nCurrent traffic conditions:\nüü¢ Light traffic on your route\nüü° Moderate traffic near Metro Station\n‚ö™ No major delays expected\n\nEstimated impact: +3 minutes');
    }

    function viewDeliveryProof(orderId) {
      alert(`Delivery Proof - ${orderId}\n\nüì∏ Photo Evidence:\n‚Ä¢ Delivery timestamp: 2:30 PM\n‚Ä¢ GPS coordinates verified\n‚Ä¢ Customer signature captured\n‚Ä¢ Package condition: Good\n\nüìã Delivery Notes:\n"Package delivered to customer directly. Signature obtained. Payment collected successfully."\n\nWould you like to view the full proof package?`);
    }

    function showNotifications() {
      alert('Tracking Notifications:\n‚Ä¢ Traffic alert: 5-min delay on current route\n‚Ä¢ Customer called: Please call back Ravi Kumar\n‚Ä¢ Route optimization available\n‚Ä¢ Weather update: Light rain expected in 2 hours');
    }

    
  </script>
</body>
</html>